 âœ… **FINAL PROMPT FOR REPLIT â€” â€œADD PLACEâ€ REDESIGN & LOGIC OVERHAUL**

**Goal:**
Redesign the **Add Place** form so it matches the visual quality and UX of the other input modals (Trips, Journal, Expenses) and adds a robust Google Places search workflow + clean manual entry mode + draft/incomplete indicators.

---

# **ğŸ”§ Layout & UI Requirements**

### **1. Match the style of existing modal forms**

Use the same structure as:

* **Plan New Trip**
* **New Journal Entry**
* **Add Expense**

Meaning:

* White background card sections
* Clear colored section headers with icons
* Consistent spacing, rounded corners, and fonts
* No rainbow/gradient section bars unless consistent with app

The design must visually integrate with the existing UI system.

---

# **ğŸ” Search Mode Controls (Q4-B)**

### **2. The location input uses a segmented toggle INSIDE the search bar:**

```
| Google | Manual |
```

Selecting â€œGoogleâ€ enables Google mode.
Selecting â€œManualâ€ enables minimal manual entry mode.

This toggle lives inside the location search bar (aligned right).

---

# **ğŸŸ£ GOOGLE MODE â€” Full Search Flow**

### **3. Google search happens in the main search bar**

* Type triggers Google Places API autocomplete
* Show results in a **dropdown list** with:

  * Place name
  * Address
  * Type
  * Rating (if available)

### **4. When a result is selected**

* Collapse/gray out unused form sections until selection is made
* Show a **Google preview panel** directly under the search bar:

  * Name
  * Full formatted address
  * Website
  * Phone
  * Open hours
  * Coordinates
  * Google rating + reviews count
  * â€œView on Google Mapsâ€ link

### **5. Autofill the full form**

* Name
* Address fields
* City / State / Country
* Latitude / Longitude
* Website
* Phone
* Type (restaurant, attraction, etc.)

### **6. User can override autofilled fields manually**

### **7. Duplicate detection**

Before saving:

* Compare with existing places by:

  * Name similarity
  * Address similarity
  * Coordinates proximity
  * Place ID match

If duplicates found â†’ show modal:

* â€œThis place seems similar to an existing place.â€
* Options: **View existing** or **Continue anyway**

---

# **âœï¸ MANUAL ENTRY MODE â€” Simple, Fast, Draft-Friendly**

### **8. Manual mode actions**

* Only one required field: **Name**
* All other fields optional
* No validation beyond Name
* Must save even without address/network

### **9. Fields visible in manual mode**

Minimal:

* Name
* Notes (optional)
* Button: â€œConvert to Google-powered entry laterâ€

### **10. Manual â†’ Google mode switch (Q5 behavior)**

When switching **from Manual â†’ Google mode**:

* A Google search bar appears
* The manual Name is **moved into Notes (append, do not overwrite)**
* Google autofill overrides fields
* Show warning toast:
  â€œManual name moved to Notes to preserve your input.â€

### **11. Mark saved manual entries as â€œDraft / Incompleteâ€**

* Show a **yellow badge: â€œINCOMPLETEâ€**
* Badge appears in:

  * Places list
  * Edit Place modal
  * Any module referencing this place

---

# **ğŸ—‚ Form Sections (match existing UI style)**

### **Section 1 â€” Place Info**

* Name
* Type (dropdown)
* Rating (stars, optional)

### **Section 2 â€” Location**

* Address
* City / State / Country
* Latitude / Longitude
* â€œUse current locationâ€ button (optional)

### **Section 3 â€” Additional Info**

* Website
* Notes (includes preserved manual name)
* Phone (optional)

### **Section 4 â€” Events for this Place**

* Repeating block:

  * Event name
  * Date or Date Range
  * â€œBest timeâ€ dropdown: Morning / Afternoon / Evening
* â€œ+ Add Eventâ€ button
* Uses same card style as Trip Stops UI

---

# **ğŸ”¥ Conditional UI Behavior**

### **12. Before user selects Google result OR types a manual name**

* Collapse all sections
* Dim all input fields
* Show message:
  â€œStart by searching Google or enter a place name.â€

### **13. After Name or Google selection**

* Expand all sections
* Show Google preview panel (if applicable)

---

# **ğŸŒ Optional but required in architecture**

* Flag in DB: `isIncomplete: boolean`
* Timestamp: `updatedFromGoogleAt`
* Field: `googlePlaceId` (optional)
* Auto-tag incomplete items in lists

---

# **ğŸ§ª Validation Rules**

* Google entries must have address + coordinates
* Manual entries must have Name only
* Switching between modes must never delete user data

---

# **ğŸ“ Overall Goals**

1. The new Add Place form must visually align with Trip / Journal / Expense modals.
2. Must be extremely easy to search Google and pick the correct place.
3. Must support quick offline drafts with a single required field.
4. Must intelligently upgrade drafts later via Google search.
5. Must detect duplicates and warn the user.
6. Must maintain a clean, modern, centered, polished UI.